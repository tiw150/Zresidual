---
title: "Building and Installing Package"
author: "Longhai Li"
format: html
editor_options: 
  chunk_output_type: console
execute: 
  dir: project
---

```{r setup, include=FALSE}
# This forces knitr to use the Project Root directory
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
```

# Install the updated package

```{r, eval=FALSE}
#remove.packages("Zresidual")
devtools::document()

devtools::install(upgrade = "never", build = FALSE, args = c("--no-byte-compile", "--no-test-load"))
suppressWarnings(unloadNamespace("Zresidual"))
library("Zresidual")

```

# Build the package site

## Build the whole Site
```{r}
devtools::document()
#pkgdown::clean_site()
unlink("docs", recursive = TRUE)
# 3. Build fresh
pkgdown::build_site(
    lazy=TRUE,
    preview=TRUE,
    devel=TRUE, 
    install=TRUE)



```


## Build home page only
```{r}
pkgdown::build_home()
```


## Build home page only
```{r}
pkgdown::build_news()
```

## Copy change logs
```{r}
file.copy(from = "changelog.html", to="docs/changelog.html",overwrite = TRUE)
file.copy(from = "changelog.md", to="docs/changelog.md",overwrite = TRUE)

```

